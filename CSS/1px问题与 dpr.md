# 1px 问题与 dpr

1px 问题存在于现代设备的各种高清屏中，因为高清屏的分辨率很高，通常 dpr 达到了 2 甚至 3。以更高的物理像素来渲染独立像素（css像素），来呈现更清晰的画面。

这就导致了一个

- “1px”问题：css 声明的 1px 实际上占用了 1 * 4 或者 1 * 9 的物理像素，比看起来要更粗一点。

这就和标题的 dpr （设备像素比）有关

- dpr = 物理像素（设备像素也就是我们常说的分辨率） / 独立像素（css 像素）

**当设备像素比为 1:1 时，使用 1 个物理像素显示 1 个CSS像素；当像素比为 2:1 时，使用 4 个物理像素显示 1 个CSS像素；当像素比为3:1 时，使用 9 个物理像素显示 1 个CSS像素**。

下图是 1 个像素点，左边是普通屏右边是 dpr 为 2 的高清屏！

![image-20220826142019022](https://liaoyk-markdown.oss-cn-hangzhou.aliyuncs.com/markdownImg/image-20220826142019022.png) 

## 解决方案

#### 伪元素缩放

使用伪元素来绘制边框，设置边框宽度为 1px，为了能匹配上物理像素。再根据 dpr 缩放伪元素，比如 dpr 为 2 则缩放伪元素为原来的  0.5。

#### 动态 Viewport + REM 方式

动态改变 meta 的 `initiale-scale` 属性，缩放屏幕，使物理像素与 css 像素匹配。

缩放屏幕（假设为 0.5 倍），那么原来渲染 100px 的地方就需要渲染 200px。使物理和独立像素匹配上！ 